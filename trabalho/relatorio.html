<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Trabalho de Redes 2</title>
  <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
  <header>
    <h1>Trabalho Prático de Redes de Computadores II</h1>
    <h1>Estabelecimento de Chave Secreta com Diffie-Hellman</h1>

    <h2>Leticia Sales - GRR20153788</h2>
  </header>
  <body>
    <div class="content">
      <div class="card">
        <a href="index.html">< Voltar</a>
        <p>Após ler a explicação do Wikipedia e alguns exemplos de implementações, ainda com dificuldade para entender o método, utilizei a imagem abaixo como base para a construção do estabelecimento de chave secreta baseado no método Diffie-Hellman:</p>
        <img src="diffiehellman.png" class="img" />
        <p>Vendo meu <a href="server.py.txt">servidor</a> como Alice, nele gero a, g e p, respectivamente salvos nas variáveis base, private_key e shared_key. Envio para o <a href="client.py.txt">cliente</a> por meio de um json, os valores de <i>base</i>, <i>shared_key</i> e do A, salvo em <i>public_secret</i> e calculado com método <i>generate_public_secret</i> do arquivo <a href="diffieHellman.py.txt">diffieHellman.py</a>.
        <p>Após receber e processar os valores do recebidos do servidor via json o cliente calcula a <i>public_secret</i> com o mesmo método e o envia para o servidor. Com isso, ambos conseguem calcular o valor de K, referenciado como <i>shared_secret</i>.</p>
        <p>Usando a biblioteca <a href="https://pycryptodome.readthedocs.io/en/latest/src/cipher/des.html">Crypto.Cipher</a>, é gerado um <i>cipher</i> do modo <b>MODE_ECB</b> para criptogafar (no cliente) e descriptografar (no servidor) a mensagem, baseada nessa chave. Na verdade, na conversão dessa chave para 8 bytes com a função <i>to_bytes()</i>. Para o uso dessa biblioteca, também precisei usar as funções pad e unpad para adicionar e remover padding do bloco de dados a ser transmitido.</p>
        <p>O cliente é encerrado ao receber uma mensagem "exit" e o servidor ao receber uma mensagem vazia.</p>
        <p>O gerador de primos, também contido no arquivo diffieHellman.py, foi criado no repositório <a href="https://github.com/cedi/DiffieHellman/tree/master">cedi/DiffieHellman</a>, que também foi usado como base para implementação do trabalho, junto ao artigo <a href="https://medium.com/@sadatnazrul/diffie-hellman-key-exchange-explained-python-8d67c378701c">Diffie-Hellman Key Exchange explained (Python)</a>.</p>
      </div>
    </div>
  </body>
</body>
</html>